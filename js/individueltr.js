const individuelTranslations = {
    fr: {
        // Navigation
        "Plats principaux": "Plats principaux",
        "Fondue": "Fondue",
        "Menu Midi": "Menu Midi",
        "Boissons": "Boissons",
        
        // Filtres
        "Tous": "Tous",
        "Poissons": "Poissons",
        "Viandes": "Viandes",
        "Légumes": "Légumes",
        "Soupes": "Soupes",
        "Riz": "Riz",
        
        // Catégories
        "Poissons & Fruits de Mer": "Poissons & Fruits de Mer",
        "Viandes & Volaille": "Viandes & Volaille",
        "Légumes & Tofu": "Légumes & Tofu",
        "Soupes & Nouilles": "Soupes & Nouilles",
        "Riz & Raviolis": "Riz & Raviolis",

        // Plats
        "Bar grillé à la sauce piquante": "Bar grillé à la sauce piquante",
        "Choucroute de poisson": "Choucroute de poisson",
        "Intestins et poisson": "Intestins et poisson",
        "Poisson bouilli au piment et poivre": "Poisson bouilli au piment et poivre",
        "Crevettes épicées": "Crevettes épicées",
        "Couteaux de mer à l'huile d'oignons verts": "Couteaux de mer à l'huile d'oignons verts",
        "Calamars et crevettes au sel et poivre": "Calamars et crevettes au sel et poivre",
        "Calamars sautés avec légumes": "Calamars sautés avec légumes",
        "Écrevisses épicées au poivre de Sichuan": "Écrevisses épicées au poivre de Sichuan",
        "Crevettes braisées à la sauce soja": "Crevettes braisées à la sauce soja",
        "Salade froide de peau de poisson au poivre vert": "Salade froide de peau de poisson au poivre vert",
        "Porc frit à la sauce aigre-douce": "Porc frit à la sauce aigre-douce",
        "Marmite de bœuf": "Marmite de bœuf",
        "Spécialité de Sichuan (épicé)": "Spécialité de Sichuan (épicé)",
        "Pieds de cochon braisés": "Pieds de cochon braisés",
        "Pot de tendon de bœuf": "Pot de tendon de bœuf",
        "Pot d'agneau": "Pot d'agneau",
        "Poulet épicé": "Poulet épicé",
        "Porc déchiqueté à la sauce d'ail": "Porc déchiqueté à la sauce d'ail",
        "Intestins de porc au piment fort": "Intestins de porc au piment fort",
        "Bœuf sauté aux oignons": "Bœuf sauté aux oignons",
        "Bœuf aromatisé au cumin": "Bœuf aromatisé au cumin",
        "Poulet à la sauce aigre-douce": "Poulet à la sauce aigre-douce",
        "Travers de porc à la sauce aigre-douce": "Travers de porc à la sauce aigre-douce",
        "Filet de porc à la sauce aigre-douce": "Filet de porc à la sauce aigre-douce",
        "Porc cuit en deux temps": "Porc cuit en deux temps",
        "Travers de porc sel et poivre": "Travers de porc sel et poivre",
        "Bœuf sauté au melon amer": "Bœuf sauté au melon amer",
        "Bœuf au poivre vert de Sichuan": "Bœuf au poivre vert de Sichuan",
        "Émincé de porc sauté aux tiges de laitue": "Émincé de porc sauté aux tiges de laitue",
        "Abats de poulet au poivre vert de Sichuan": "Abats de poulet au poivre vert de Sichuan",
        "Mapo Tofu (Épicé)": "Mapo Tofu (Épicé)",
        "Aubergine à l'ail": "Aubergine à l'ail",
        "Feuilles de tofu au poivre": "Feuilles de tofu au poivre",
        "Zizania avec porc sauté": "Zizania avec porc sauté",
        "Luffa sauté avec edamames": "Luffa sauté avec edamames",
        "Chou blanc sauté": "Chou blanc sauté",
        "Haricots verts sautés": "Haricots verts sautés",
        "Chou-fleur sauté": "Chou-fleur sauté",
        "Pommes de terre aigres et piquantes": "Pommes de terre aigres et piquantes",
        "Chou de Shanghai sauté": "Chou de Shanghai sauté",
        "Légumes sautés": "Légumes sautés",
        "Chou chinois au tofu frit": "Chou chinois au tofu frit",
        "Laitue romaine sautée à l'ail": "Laitue romaine sautée à l'ail",
        "Marmite de côtes de porc aux légumes fermentés": "Marmite de côtes de porc aux légumes fermentés",
        "Mala Tang (Bœuf/Agneau)": "Mala Tang (Bœuf/Agneau)",
        "Soupe Pékinoise": "Soupe Pékinoise",
        "Soupe aux tomates et aux œufs": "Soupe aux tomates et aux œufs",
        "Soupe aux raviolis de feuilles de tofu au porc": "Soupe aux raviolis de feuilles de tofu au porc",
        "Soupe de nouilles aux intestins de porc": "Soupe de nouilles aux intestins de porc",
        "Soupe de nouilles à la marmite de bœuf": "Soupe de nouilles à la marmite de bœuf",
        "Soupe de nouilles à la choucroute et porc haché cru": "Soupe de nouilles à la choucroute et porc haché cru",
        "Nouilles aux tomates et bœuf": "Nouilles aux tomates et bœuf",
        "Soupe de nouilles aux pieds de cochon": "Soupe de nouilles aux pieds de cochon",
        "Soupe de nouilles à la choucroute de poisson": "Soupe de nouilles à la choucroute de poisson",
        "Soupe de nouilles aux côtes de porc saumuré": "Soupe de nouilles aux côtes de porc saumuré",
        "Soupe de nouilles de riz": "Soupe de nouilles de riz",
        "Riz nature": "Riz nature",
        "Raviolis (Frit) au Porc et Chou": "Raviolis (Frit) au Porc et Chou",
        "Soupe de Wontons": "Soupe de Wontons",
        "Gâteau de Riz Glutineux Sauté": "Gâteau de Riz Glutineux Sauté",
        "Nouilles à l'Agneau": "Nouilles à l'Agneau",
        "Nouilles de Riz Sautées": "Nouilles de Riz Sautées",
        "Nouilles Sautées": "Nouilles Sautées",
        "Riz Sauté": "Riz Sauté",
        "Nouilles Pékinnoises": "Nouilles Pékinnoises"
    },
    en: {
        // Navigation
        "Plats principaux": "Main Courses",
        "Fondue": "Fondue",
        "Menu Midi": "Lunch Menu",
        "Boissons": "Drinks",
        
        // Filtres
        "Tous": "All",
        "Poissons": "Fish",
        "Viandes": "Meats",
        "Légumes": "Vegetables",
        "Soupes": "Soups",
        "Riz": "Rice",
        
        // Catégories
        "Poissons & Fruits de Mer": "Fish & Seafood",
        "Viandes & Volaille": "Meats & Poultry",
        "Légumes & Tofu": "Vegetables & Tofu",
        "Soupes & Nouilles": "Soups & Noodles",
        "Riz & Raviolis": "Rice & Dumplings",

        // Plats
        "Bar grillé à la sauce piquante": "Spicy Grilled Sea Bass",
        "Choucroute de poisson": "Boiled Fish with Pickles",
        "Intestins et poisson": "Intestines and Fish",
        "Poisson bouilli au piment et poivre": "Boiled Fish with Chili and Pepper",
        "Crevettes épicées": "Spicy Shrimps",
        "Couteaux de mer à l'huile d'oignons verts": "Oil Fried Razor Clam with Green Onions",
        "Calamars et crevettes au sel et poivre": "Squid and Shrimp with Salt and Pepper",
        "Calamars sautés avec légumes": "Fried Squid with Pickles",
        "Écrevisses épicées au poivre de Sichuan": "Spicy and Numbing Crayfish",
        "Crevettes braisées à la sauce soja": "Braised Shrimp in Soy Sauce",
        "Salade froide de peau de poisson au poivre vert": "Cold Fish Skin Salad with Green Sichuan Pepper",
        "Porc frit à la sauce aigre-douce": "Fried Pork with Sweet and Sour Sauce",
        "Marmite de bœuf": "Sichuan Boiled Beef",
        "Spécialité de Sichuan (épicé)": "Sichuan Specialty (Spicy)",
        "Pieds de cochon braisés": "Braised Pork Feet",
        "Pot de tendon de bœuf": "Braised Beef Tendon",
        "Pot d'agneau": "Lamb Pot",
        "Poulet épicé": "Spicy Chicken",
        "Porc déchiqueté à la sauce d'ail": "Shredded Pork with Garlic Sauce",
        "Intestins de porc au piment fort": "Pork Intestines with Hot Pepper",
        "Bœuf sauté aux oignons": "Beef Sautéed with Onions",
        "Bœuf aromatisé au cumin": "Cumin Beef",
        "Poulet à la sauce aigre-douce": "Chicken with Sweet and Sour Sauce",
        "Travers de porc à la sauce aigre-douce": "Pork Ribs with Sweet and Sour Sauce",
        "Filet de porc à la sauce aigre-douce": "Pork Fillet with Sweet and Sour Sauce",
        "Porc cuit en deux temps": "Twice-Cooked Pork",
        "Travers de porc sel et poivre": "Salt and Pepper Pork Ribs",
        "Bœuf sauté au melon amer": "Bitter Melon Stir-Fried with Beef",
        "Bœuf au poivre vert de Sichuan": "Beef with Green Sichuan Pepper",
        "Émincé de porc sauté aux tiges de laitue": "Stir-Fried Lettuce Stems with Sliced Pork",
        "Abats de poulet au poivre vert de Sichuan": "Chicken Offal with Green Sichuan Pepper",
        "Mapo Tofu (Épicé)": "Mapo Tofu (Spicy)",
        "Aubergine à l'ail": "Eggplant with Garlic Sauce",
        "Feuilles de tofu au poivre": "Tofu Sheets with Pepper",
        "Zizania avec porc sauté": "Zizania with Healthy Pork",
        "Luffa sauté avec edamames": "Luffa with Edamames",
        "Chou blanc sauté": "Chinese Cabbage Stir-Fry",
        "Haricots verts sautés": "Dry Fried Green Beans",
        "Chou-fleur sauté": "Stir Fried Cauliflower",
        "Pommes de terre aigres et piquantes": "Hot and Sour Shredded Potato",
        "Chou de Shanghai sauté": "Sautéed Shanghai Cabbage",
        "Légumes sautés": "Sautéed Vegetables",
        "Chou chinois au tofu frit": "Napa Cabbage with Fried Tofu",
        "Laitue romaine sautée à l'ail": "Stir-Fried Romaine Lettuce with Garlic",
        "Marmite de côtes de porc aux légumes fermentés": "Pickled Cabbage and Pork Bone Hotpot",
        "Mala Tang (Bœuf/Agneau)": "Mala Tang (Beef/Lamb)",
        "Soupe Pékinoise": "Hot and Sour Soup",
        "Soupe aux tomates et aux œufs": "Tomato and Egg Soup",
        "Soupe aux raviolis de feuilles de tofu au porc": "Tofu Skin and Pork Dumplings Soup",
        "Soupe de nouilles aux intestins de porc": "Noodle Soup with Pig Intestines",
        "Soupe de nouilles à la marmite de bœuf": "Noodle Soup with Sichuan Boiled Beef",
        "Soupe de nouilles à la choucroute et porc haché cru": "Noodle Soup with Pork and Pickles",
        "Nouilles aux tomates et bœuf": "Noodles with Tomatoes and Beef",
        "Soupe de nouilles aux pieds de cochon": "Pork Feet Noodles",
        "Soupe de nouilles à la choucroute de poisson": "Noodles with Boiled Fish and Pickles",
        "Soupe de nouilles aux côtes de porc saumuré": "Noodles with Chop Pork",
        "Soupe de nouilles de riz": "Soup Rice Noodles",
        "Riz nature": "Steamed Rice",
        "Raviolis (Frit) au Porc et Chou": "Dumplings (Fried) with Pork and Cabbage",
        "Soupe de Wontons": "Wontons Soup",
        "Gâteau de Riz Glutineux Sauté": "Stir-Fried Rice Cake",
        "Nouilles à l'Agneau": "Noodles with Lamb",
        "Nouilles de Riz Sautées": "Fried Rice Noodles",
        "Nouilles Sautées": "Fried Noodles",
        "Riz Sauté": "Fried Rice",
        "Nouilles Pékinnoises": "Noodles with Soybean Paste"
    },
    zh: {
        // Navigation
        "Plats principaux": "主菜",
        "Fondue": "火锅",
        "Menu Midi": "午餐菜单",
        "Boissons": "饮料",
        
        // Filtres
        "Tous": "全部",
        "Poissons": "鱼类",
        "Viandes": "肉类",
        "Légumes": "蔬菜",
        "Soupes": "汤类",
        "Riz": "米饭",
        
        // Catégories
        "Poissons & Fruits de Mer": "海鲜类",
        "Viandes & Volaille": "肉类和家禽",
        "Légumes & Tofu": "蔬菜和豆腐",
        "Soupes & Nouilles": "汤和面条",
        "Riz & Raviolis": "米饭和饺子",

        // Plats
        "Bar grillé à la sauce piquante": "香辣烤鱼",
        "Choucroute de poisson": "酸菜鱼",
        "Intestins et poisson": "肥肠鱼",
        "Poisson bouilli au piment et poivre": "沸腾鱼",
        "Crevettes épicées": "辣子虾",
        "Couteaux de mer à l'huile d'oignons verts": "葱油蛏子",
        "Calamars et crevettes au sel et poivre": "椒盐双拼",
        "Calamars sautés avec légumes": "咸菜炒鱿鱼",
        "Écrevisses épicées au poivre de Sichuan": "麻辣小龙虾",
        "Crevettes braisées à la sauce soja": "红烧虾",
        "Salade froide de peau de poisson au poivre vert": "凉拌藤椒鱼皮",
        "Porc frit à la sauce aigre-douce": "锅包肉",
        "Marmite de bœuf": "水煮牛肉",
        "Spécialité de Sichuan (épicé)": "毛血旺",
        "Pieds de cochon braisés": "红焖猪脚",
        "Pot de tendon de bœuf": "牛筋煲",
        "Pot d'agneau": "羊肉煲",
        "Poulet épicé": "辣子鸡",
        "Porc déchiqueté à la sauce d'ail": "鱼香肉丝",
        "Intestins de porc au piment fort": "尖椒肥肠",
        "Bœuf sauté aux oignons": "洋葱炒牛肉",
        "Bœuf aromatisé au cumin": "孜然牛肉",
        "Poulet à la sauce aigre-douce": "咕咾肉",
        "Travers de porc à la sauce aigre-douce": "糖醋排骨",
        "Filet de porc à la sauce aigre-douce": "糖醋里脊",
        "Porc cuit en deux temps": "回锅肉",
        "Travers de porc sel et poivre": "椒盐排骨",
        "Bœuf sauté au melon amer": "苦瓜炒牛肉",
        "Bœuf au poivre vert de Sichuan": "藤椒牛肉",
        "Émincé de porc sauté aux tiges de laitue": "莴笋肉片",
        "Abats de poulet au poivre vert de Sichuan": "藤椒鸡杂",
        "Mapo Tofu (Épicé)": "麻辣豆腐",
        "Aubergine à l'ail": "鱼香茄子",
        "Feuilles de tofu au poivre": "尖椒干豆腐",
        "Zizania avec porc sauté": "茭白炒肉丝",
        "Luffa sauté avec edamames": "丝瓜炒毛豆",
        "Chou blanc sauté": "手撕包菜",
        "Haricots verts sautés": "干煸四季豆",
        "Chou-fleur sauté": "干煸花菜",
        "Pommes de terre aigres et piquantes": "酸辣土豆丝",
        "Chou de Shanghai sauté": "清炒上海青",
        "Légumes sautés": "地三鲜",
        "Chou chinois au tofu frit": "白菜油豆腐",
        "Laitue romaine sautée à l'ail": "蒜蓉空心菜",
        "Marmite de côtes de porc aux légumes fermentés": "酸菜筒骨砂锅",
        "Mala Tang (Bœuf/Agneau)": "麻辣烫（牛肉/羊肉）",
        "Soupe Pékinoise": "酸辣汤",
        "Soupe aux tomates et aux œufs": "番茄蛋汤",
        "Soupe aux raviolis de feuilles de tofu au porc": "鲜肉百叶包",
        "Soupe de nouilles aux intestins de porc": "肥肠面",
        "Soupe de nouilles à la marmite de bœuf": "水煮牛肉面",
        "Soupe de nouilles à la choucroute et porc haché cru": "酸菜肉糜面",
        "Nouilles aux tomates et bœuf": "番茄牛肉面",
        "Soupe de nouilles aux pieds de cochon": "猪脚面",
        "Soupe de nouilles à la choucroute de poisson": "酸菜鱼面",
        "Soupe de nouilles aux côtes de porc saumuré": "排骨面",
        "Soupe de nouilles de riz": "过桥米线",
        "Riz nature": "白米饭",
        "Raviolis (Frit) au Porc et Chou": "手工水饺 (15PCS)",
        "Soupe de Wontons": "馄饨",
        "Gâteau de Riz Glutineux Sauté": "炒年糕 (牛肉鸡肉蔬菜海鲜+2€)",
        "Nouilles à l'Agneau": "红焖羊肉面",
        "Nouilles de Riz Sautées": "炒河粉（牛肉/鸡肉/蔬菜/海鲜+2€)",
        "Nouilles Sautées": "炒面（牛肉/鸡肉/海鲜+2€)",
        "Riz Sauté": "炒饭（牛肉/鸡肉/鲜虾+2€/鹅肝酱+2€)",
        "Nouilles Pékinnoises": "炸酱面"
    }
};

// Fonction de traduction
function updateTranslations(lang) {
    try {
        const translations = individuelTranslations[lang] || individuelTranslations.fr;
        
        // Traduire les éléments de navigation, filtres et catégories
        document.querySelectorAll('[data-translate]').forEach(element => {
            const key = element.getAttribute('data-translate');
            if (translations[key]) {
                element.textContent = translations[key];
            } else {
                console.warn('Missing translation for key:', key);
            }
        });

        // Traduire les noms des plats dans les cartes
        document.querySelectorAll('.dish-name').forEach(element => {
            const originalName = element.getAttribute('data-translate') || element.textContent.trim();
            if (translations[originalName]) {
                element.textContent = translations[originalName];
            }
        });

        // Traduire les textes alternatifs des images
        document.querySelectorAll('.dish-image').forEach(img => {
            const originalAlt = img.getAttribute('alt');
            if (translations[originalAlt]) {
                img.setAttribute('alt', translations[originalAlt]);
            }
        });

    } catch (error) {
        console.error('Translation error:', error);
    }
}

// Gestion du changement de langue
document.addEventListener('DOMContentLoaded', () => {
    const languageBtns = document.querySelectorAll('.language-btn');
    
    languageBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            const lang = btn.getAttribute('data-lang');
            languageBtns.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            updateTranslations(lang);
            
            // Sauvegarder la préférence de langue
            localStorage.setItem('preferredLanguage', lang);
        });
    });
    
    // Initialiser avec la langue sauvegardée ou français par défaut
    const savedLang = localStorage.getItem('preferredLanguage') || 'fr';
    const activeBtn = document.querySelector(`.language-btn[data-lang="${savedLang}"]`);
    if (activeBtn) {
        activeBtn.classList.add('active');
    }
    updateTranslations(savedLang);
});
